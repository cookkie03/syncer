# ═══════════════════════════════════════════════════════════
# caldav-sync — environment configuration
# Copy this file to .env and fill ALL YOUR_VALUE_HERE fields
# before running `docker compose up -d`
# ═══════════════════════════════════════════════════════════


# ───────────────────────────────────────────────────────────
# SHARED — CalDAV / CardDAV server
# Used by: vdirsyncer, vtodo-notion
# ───────────────────────────────────────────────────────────

# Full URL of your CalDAV server (Synology Calendar).
#
# ── Running on the NAS itself (recommended) ──────────────────────────────────
# Use host.docker.internal so the container reaches DSM directly without going
# through the router. Hairpin NAT (public DDNS → same NAS) often doesn't work.
#
#   Synology Calendar CalDAV path: /caldav.php/
#   DSM HTTP  port: 5000  →  http://host.docker.internal:5000/caldav.php/
#   DSM HTTPS port: 5001  →  https://host.docker.internal:5001/caldav.php/
#
#   (docker-compose.yml maps host.docker.internal → host-gateway automatically)
#
# ── Running on an external machine (e.g. a miniPC) ───────────────────────────
# Use the DDNS hostname — the container reaches the NAS over the local network
# or the internet, whichever the DNS resolves to.
#
#   https://yournas.synology.me/caldav.php/
#
CALDAV_URL=YOUR_VALUE_HERE

# Full URL of your CardDAV server (usually same base as CalDAV).
# Same two-scenario logic as CALDAV_URL above applies here.
CARDDAV_URL=YOUR_VALUE_HERE

# CalDAV / CardDAV credentials
CALDAV_USERNAME=YOUR_VALUE_HERE
CALDAV_PASSWORD=YOUR_VALUE_HERE


# ───────────────────────────────────────────────────────────
# VDIRSYNCER — Google OAuth
# Used by: vdirsyncer
# ───────────────────────────────────────────────────────────

# OAuth 2.0 Client ID — from Google Cloud Console → APIs & Services → Credentials
# Create a "Desktop app" OAuth client, then copy the client_id here.
# See README §2 for full instructions.
GOOGLE_CLIENT_ID=YOUR_VALUE_HERE

# OAuth 2.0 Client Secret — from the same Google Cloud Console credential
GOOGLE_CLIENT_SECRET=YOUR_VALUE_HERE

# Path inside the container where the OAuth token is stored after `vdirsyncer authorize`.
# Do NOT change this value — it must match the Docker volume mount.
GOOGLE_TOKEN_FILE=/data/token/google.json

# Sync interval in minutes (default: 60)
# SYNC_INTERVAL_MINUTES=60

# ── Telegram notifications (optional) ────────────────────────────────────────
# If set, vdirsyncer will send a Telegram message on every sync error, and a
# daily heartbeat confirming the sync is healthy.
#
# TELEGRAM_BOT_TOKEN and TELEGRAM_CHAT_ID are shared with vtodo-notion and
# notion-backup — define them once here and all services pick them up.
#
# NOTIFY_OK_EVERY_HOURS: heartbeat interval (default 24, set to 0 to disable)
# TELEGRAM_BOT_TOKEN=YOUR_VALUE_HERE
# TELEGRAM_CHAT_ID=YOUR_VALUE_HERE
# NOTIFY_OK_EVERY_HOURS=24


# ───────────────────────────────────────────────────────────
# VTODO-NOTION — Notion task sync
# Used by: vtodo-notion
# ───────────────────────────────────────────────────────────

# Notion internal integration token (starts with "secret_")
# Create at: https://www.notion.so/my-integrations
NOTION_TOKEN=YOUR_VALUE_HERE

# ID of the Notion database where VTODOs are upserted
# Get it from the database URL: notion.so/{workspace}/{DATABASE_ID}?v=...
NOTION_DATABASE_ID=YOUR_VALUE_HERE

# Sync interval in minutes (default: 30)
# SYNC_INTERVAL_MINUTES=30


# ───────────────────────────────────────────────────────────
# NOTION-BACKUP — dual-track backup
# Used by: notion-backup
# ───────────────────────────────────────────────────────────

# Track 1 — Official API token (never expires)
# Can be the same value as NOTION_TOKEN above.
NOTION_API_TOKEN=YOUR_VALUE_HERE

# Track 2 — Browser cookies for native Markdown export (may expire after weeks/months)
# See README §6 for how to extract these values from browser DevTools.
NOTION_TOKEN_V2=YOUR_VALUE_HERE
NOTION_FILE_TOKEN=YOUR_VALUE_HERE

# Workspace (space) ID — needed for the native export API call
# See README §6 for extraction instructions.
NOTION_SPACE_ID=YOUR_VALUE_HERE

# Backup schedule in cron syntax (default: every day at 02:00 UTC)
# BACKUP_SCHEDULE=0 2 * * *

# Optional: git remote URL to push the backup repo after each commit.
# Leave empty to keep backups local only.
# Example (GitHub with PAT): https://token:ghp_YOURPAT@github.com/user/notion-backup.git
GIT_REMOTE_URL=


# ───────────────────────────────────────────────────────────
# NOTION-BACKUP — host filesystem path
# ───────────────────────────────────────────────────────────

# Absolute path on the HOST machine where backup files will be stored.
# The container bind-mounts this folder as /backup — files are directly
# accessible from your NAS, PC, or SMB share without using Docker commands.
#
# You MUST create this directory on the host before starting the container.
#
# Synology NAS:  /volume1/docker/notion-backup
# Linux/Mac:     /opt/notion-backup  (or any path you prefer)
# Windows:       C:/notion-backup
#
# ⚠ CHANGE THIS — the path below is Synology-specific and will fail on other systems.
NOTION_BACKUP_PATH=YOUR_VALUE_HERE


# ───────────────────────────────────────────────────────────
# DOCKER BUILD — target CPU architecture
# ───────────────────────────────────────────────────────────

# amd64 for Intel/AMD (Synology DS224+, most x86 PCs)
# arm64 for ARM-based NAS (Synology DS923+ and similar)
TARGETARCH=amd64
